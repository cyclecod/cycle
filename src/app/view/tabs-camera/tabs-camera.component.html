<!--
 * @Author: 九阳
 * @Date: 2022-07-28 14:15:07
 * @LastEditors: 九阳
 * @LastEditTime: 2022-10-24 14:54:47
-->
<ng-container *ngIf="isChoose === 'danger-add'">
  <div class="ml-title-bg">
    <div class="ml-title">隐患填报</div>
    <!-- <div class="ml-title-button"></div> -->
  </div>
  <div class="ml-interval"></div>
  <List class="item-position">
    <InputItem placeholder="请输入隐患名称" [(ngModel)]="objectData.dangerName" [content]="'隐患名称'">
    </InputItem>

    <InputItem placeholder="请选择隐患类型" [editable]="false"
      (click)="showPicker('shyf.hazardDangerType', 'hazardDangerType')" [value]="selectData.hazardDangerType"
      [content]="'隐患类型'">
    </InputItem>

    <InputItem placeholder="请选择隐患等级" [editable]="false" (click)="showPicker('shyf.dangerLevel', 'dangerLevel')"
      [value]="selectData.dangerLevel" [content]="'隐患等级'">
    </InputItem>

    <InputItem placeholder="请选择隐患来源" [editable]="false" (click)="showPicker('shyf.dangerSrc', 'dangerSrc')"
      [value]="selectData.dangerSrc" [content]="'隐患来源'">
    </InputItem>

    <TextareaItem placeholder="请输隐患描述" [(ngModel)]="objectData.dangerDesc" [clear]="true" [title]="'隐患描述'"
      [autoHeight]="true" [labelNumber]="2">
    </TextareaItem>

    <InputItem placeholder="请选择治理类型" [editable]="false"
      (click)="showPicker('shyf.dangerManageType', 'dangerManageType')" [value]="selectData.dangerManageType"
      [content]="'治理类型'">
    </InputItem>

    <TextareaItem placeholder="请输形成原因" [(ngModel)]="objectData.dangerReason" [clear]="true" [title]="'形成原因'"
      [autoHeight]="true" [labelNumber]="2">
    </TextareaItem>

    <TextareaItem placeholder="请输管控措施" [(ngModel)]="objectData.controlMeasures" [clear]="true" [title]="'管控措施'"
      [autoHeight]="true" [labelNumber]="2">
    </TextareaItem>

    <ListItem DatePicker [extra]="getTime(dangerManageDeadline)" [arrow]="'horizontal'" [mode]="'date'"
      [(ngModel)]='dangerManageDeadline' placeholder="请选择计划完成时间">
      计划完成时间
    </ListItem>
    <InputItem placeholder="请选择装置" (click)="returnBack('choose-device')" required [editable]="false" [value]="objectData.deviceName" [content]="'装置名称'">
    </InputItem>
    <InputItem placeholder="请选择单元" (click)="returnBack('choose-unit')" required [editable]="false" [value]="objectData.unitName" [content]="'单元名称'">
    </InputItem>
    <div class="ml-interval"></div>
    <ml-gray-bar [data]="'附件信息'"></ml-gray-bar>
    <ph-image #phImage [isEdit]="true" [fileList]="fileList"></ph-image>
    <ml-gray-bar></ml-gray-bar>
  </List>
  <div Button [type]="'primary'" style="margin: 10px;margin-left: 50px;margin-right: 50px;" class="button" debounceClick [debounceTime]="300"
    (debounceClick)="onSave()">提交
  </div>
</ng-container>
<!-- 选择整改人员-->
<!-- <ng-container *ngIf="isChoose === 'choose-depart'">
  <ph-choose-department [(isUse)]="isChoose" (chooseData)="chooseData($event, 'choose-depart')"></ph-choose-department>
</ng-container> -->
<!-- 选择装置-->
<ng-container *ngIf="isChoose === 'choose-device'">
  <ph-choose-device [(isUse)]="isChoose" (chooseData)="chooseData($event, 'choose-device')"></ph-choose-device>
</ng-container>
<!-- 选择单元-->
<ng-container *ngIf="isChoose === 'choose-unit'">
  <ph-choose-unit [deviceBasicId]="objectData.deviceId" [(isUse)]="isChoose" (chooseData)="chooseData($event, 'choose-unit')"></ph-choose-unit>
</ng-container>